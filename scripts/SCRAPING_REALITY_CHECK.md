# üîç Web Scraping –∑–∞ Lab Data - –†–µ–∞–ª–Ω–æ—Å—Ç Check

## ‚ùå –ü–†–û–ë–õ–ï–ú–ò –° –ü–†–û–°–¢–ò–Ø SCRAPING

–¢–µ—Å—Ç–æ–≤–∏—è—Ç scraper **–ù–ï –†–ê–ë–û–¢–ò** –∑–∞—â–æ—Ç–æ:

1. **404 Errors** - URL-–∏—Ç–µ –∑–∞ —Ü–µ–Ω–æ—Ä–∞–∑–ø–∏—Å–∏ –Ω–µ —Å–∞ –ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—ä–ø–Ω–∏ –∏–ª–∏ —Å–µ –∫–∞–∑–≤–∞—Ç –ø–æ-—Ä–∞–∑–ª–∏—á–Ω–æ
2. **JavaScript Required** - –ü–æ–≤–µ—á–µ—Ç–æ –º–æ–¥–µ—Ä–Ω–∏ —Å–∞–π—Ç–æ–≤–µ —Å–∞ SPA (Single Page Applications)
3. **Anti-scraping** - –°–∞–π—Ç–æ–≤–µ—Ç–µ –∏–º–∞—Ç –∑–∞—â–∏—Ç–∏ (Cloudflare, rate limiting)
4. **No Public Price API** - –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏—Ç–µ –ù–ï –ø—É–±–ª–∏–∫—É–≤–∞—Ç —Ü–µ–Ω–∏ –æ–Ω–ª–∞–π–Ω (–∏—Å–∫–∞—Ç –¥–∞ —Ç–∏ —Å–µ –æ–±–∞–¥–∏—à)

---

## üéØ –†–ï–ê–õ–ù–ê –°–ò–¢–£–ê–¶–ò–Ø

### Synevo (https://www.synevo.bg)
- ‚úÖ –ò–º–∞ –æ–Ω–ª–∞–π–Ω –∫–∞—Ç–∞–ª–æ–≥ —Å –∏–∑—Å–ª–µ–¥–≤–∞–Ω–∏—è
- ‚ùå –¶–µ–Ω–∏—Ç–µ –ù–ï –°–ê –≤–∏–¥–∏–º–∏ –±–µ–∑ login/–∑–∞–ø–∏—Ç–≤–∞–Ω–µ
- üìû –¢—Ä—è–±–≤–∞ –¥–∞ —Å–µ –æ–±–∞–¥–∏—à: **02 9 863 864**

### Kandilarov (https://kandilarov.com)
- ‚úÖ –ò–º–∞—Ç —Ü–µ–Ω–æ—Ä–∞–∑–ø–∏—Å —Å–µ–∫—Ü–∏—è
- ‚ö†Ô∏è –ò–∑–∏—Å–∫–≤–∞ JavaScript rendering (React/Vue app)
- üìû –ê–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: **0700 70 117**

### LINA (https://www.lina-bg.com)
- ‚úÖ –ò–º–∞—Ç –ª–æ–∫–∞—Ü–∏–∏
- ‚ùå –¶–µ–Ω–∏—Ç–µ —Å–∞ —Å–∫—Ä–∏—Ç–∏ –∏–ª–∏ –≤ PDF —Ñ–∞–π–ª–æ–≤–µ
- üìû –ù–æ–º–µ—Ä—ä—Ç –≤–∞—Ä–∏—Ä–∞ –ø–æ –≥—Ä–∞–¥–∞

---

## ‚úÖ –ü–†–ï–ü–û–†–™–ß–ê–ù–ò –†–ï–®–ï–ù–ò–Ø

### ü•á –†–ï–®–ï–ù–ò–ï 1: –†—ä—á–Ω–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è (–†–ï–ê–õ–ù–û –†–ê–ë–û–¢–ò)

**–í—Ä–µ–º–µ:** 1 –¥–µ–Ω
**–†–∞–∑—Ö–æ–¥–∏:** 0 –ª–≤
**–¢–æ—á–Ω–æ—Å—Ç:** 100%

```bash
# PHONE SCRIPT
"–ó–¥—Ä–∞–≤–µ–π—Ç–µ, –æ–±–∞–∂–¥–∞–º —Å–µ –æ—Ç Testograph.
 –ú–æ–∂–µ –ª–∏ –¥–∞ –º–∏ –∫–∞–∂–µ—Ç–µ –∞–∫—Ç—É–∞–ª–Ω–∏—Ç–µ —Ü–µ–Ω–∏ –∑–∞:
 - Total Testosterone (–æ–±—â —Ç–µ—Å—Ç–æ—Å—Ç–µ—Ä–æ–Ω)
 - Free Testosterone (—Å–≤–æ–±–æ–¥–µ–Ω —Ç–µ—Å—Ç–æ—Å—Ç–µ—Ä–æ–Ω)
 - –ü–∞–∫–µ—Ç: Total T + Free T + SHBG + Estradiol + LH

 –°—ä—â–æ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ª–∏ –µ –∑–∞–ø–∏—Å–≤–∞–Ω–µ –Ω–∞ —á–∞—Å?"
```

**–†–µ–∑—É–ª—Ç–∞—Ç:** 15 –º–∏–Ω x 28 –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ = 7 —á–∞—Å–∞ —á–∏—Å—Ç–∞ —Ä–∞–±–æ—Ç–∞

---

### ü•à –†–ï–®–ï–ù–ò–ï 2: Puppeteer Scraping (–ê–ö–û –∏–º–∞ –ø—É–±–ª–∏—á–Ω–∏ —Ü–µ–Ω–∏)

–ê–∫–æ Kandilarov –ù–ê–ò–°–¢–ò–ù–ê –∏–º–∞ –æ–Ω–ª–∞–π–Ω —Ü–µ–Ω–æ—Ä–∞–∑–ø–∏—Å, –∏–∑–ø–æ–ª–∑–≤–∞–π Puppeteer:

```bash
npm install puppeteer
```

```javascript
// scripts/scrape-kandilarov-advanced.mjs
import puppeteer from 'puppeteer';

async function scrapeKandilarovWithPuppeteer() {
  const browser = await puppeteer.launch({
    headless: false, // –í–∏–∂ –∫–∞–∫–≤–æ —Å—Ç–∞–≤–∞
  });

  const page = await browser.newPage();

  // Go to price page
  await page.goto('https://kandilarov.com/cennik', {
    waitUntil: 'networkidle2'
  });

  // Wait for content to load (adjust selector based on real page)
  await page.waitForSelector('.price-table', { timeout: 10000 });

  // Extract data
  const prices = await page.evaluate(() => {
    const rows = Array.from(document.querySelectorAll('.price-table tr'));

    return rows
      .map(row => {
        const cells = row.querySelectorAll('td');
        if (cells.length < 2) return null;

        return {
          test: cells[0]?.textContent?.trim(),
          price: cells[1]?.textContent?.trim()
        };
      })
      .filter(item => item && item.test?.toLowerCase().includes('testosterone'));
  });

  console.log('Found prices:', prices);

  await browser.close();
  return prices;
}

scrapeKandilarovWithPuppeteer();
```

**–í–ê–ñ–ù–û:** –¢–µ—Å—Ç–≤–∞–π –Ω–∞ –†–ï–ê–õ–ï–ù —Å–∞–π—Ç –∏ adjust —Å–µ–ª–µ–∫—Ç–æ—Ä–∏—Ç–µ!

---

### ü•â –†–ï–®–ï–ù–ò–ï 3: PDF Parsing

–ê–∫–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏—Ç–µ –∏–º–∞—Ç PDF —Ü–µ–Ω–æ—Ä–∞–∑–ø–∏—Å–∏:

```bash
npm install pdf-parse
```

```javascript
import fs from 'fs';
import pdf from 'pdf-parse';

async function parsePricePDF(pdfPath) {
  const dataBuffer = fs.readFileSync(pdfPath);
  const data = await pdf(dataBuffer);

  // Search for "Testosterone" in PDF text
  const lines = data.text.split('\n');
  const testosteronePrices = lines.filter(line =>
    line.toLowerCase().includes('testosterone')
  );

  console.log(testosteronePrices);
}

parsePricePDF('./kandilarov-prices.pdf');
```

---

### ü•á –†–ï–®–ï–ù–ò–ï 4: Google Sheets Import (BEST!)

–ù–∞–ø—Ä–∞–≤–∏ Google Sheet —Å –¥–∞–Ω–Ω–∏—Ç–µ –∏ import-–≤–∞–π –≥–æ:

**Setup:**
1. –°—ä–∑–¥–∞–π Google Sheet: https://sheets.google.com
2. –ü–æ–ø—ä–ª–Ω–∏ –¥–∞–Ω–Ω–∏ (–º–æ–∂–µ –¥–∞ copy-paste –æ—Ç PDF-–∏)
3. Publish as CSV: File ‚Üí Share ‚Üí Publish to web ‚Üí CSV
4. Import –≤ app-–∞:

```javascript
// scripts/import-from-google-sheets.mjs
import fetch from 'node-fetch';

const SHEET_URL = 'https://docs.google.com/spreadsheets/d/YOUR_ID/export?format=csv';

async function importFromGoogleSheets() {
  const response = await fetch(SHEET_URL);
  const csv = await response.text();

  // Parse CSV
  const lines = csv.split('\n');
  const labs = lines.slice(1).map(line => {
    const [city, name, address, phone, price_total_t, price_free_t] = line.split(',');
    return { city, name, address, phone, price_total_t, price_free_t };
  });

  console.log(`Imported ${labs.length} labs`);
  return labs;
}
```

**–ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞:**
- ‚úÖ –õ–µ—Å–Ω–æ –∑–∞ update (—Å–∞–º–æ edit-–≤–∞—à Sheet-–∞)
- ‚úÖ –ö–æ–ª–µ–≥–∏—Ç–µ –º–æ–≥–∞—Ç –¥–∞ –ø–æ–º–∞–≥–∞—Ç
- ‚úÖ –í–∏–Ω–∞–≥–∏ –∞–∫—Ç—É–∞–ª–Ω–æ (auto-sync)

---

## üéØ –ú–û–Ø –ü–†–ï–ü–û–†–™–ö–ê

–ó–∞ **TESTOGRAPH PRODUCTION:**

### –§–∞–∑–∞ 1: Launch (1-2 –¥–Ω–∏)
1. **–û–±–∞–¥–∏ —Å–µ –¥–æ –¢–û–ü 10 –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏** (Synevo x3, Kandilarov x3, LINA x4)
2. **–ü–æ–ø—ä–ª–Ω–∏ Google Sheet** —Å –¥–∞–Ω–Ω–∏—Ç–µ
3. **Import –≤ app** –æ—Ç Sheet-–∞
4. **Deploy!** üöÄ

### –§–∞–∑–∞ 2: Scaling (1-3 –º–µ—Å–µ—Ü–∞)
1. **User contributions** - –ü–æ–∑–≤–æ–ª–∏ –Ω–∞ users –¥–∞ –¥–æ–∫–ª–∞–¥–≤–∞—Ç –≥—Ä–µ—à–∫–∏
2. **–ü–∞—Ä—Ç–Ω—å–æ—Ä—Å—Ç–≤–∞** - –°–≤—ä—Ä–∂–∏ —Å–µ —Å Synevo –∑–∞ –æ—Ñ–∏—Ü–∏–∞–ª–Ω–∏ –¥–∞–Ω–Ω–∏
3. **Affiliate program** - –ü—Ä–µ–¥–ª–æ–∂–∏ –∏–º –∫–æ–º–∏—Å–∏–æ–Ω–Ω–∞

### –§–∞–∑–∞ 3: Automation (6+ –º–µ—Å–µ—Ü–∞)
1. **API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å –≥–æ–ª–µ–º–∏—Ç–µ –≤–µ—Ä–∏–≥–∏
2. **Real-time —Ü–µ–Ω–∏** –æ—Ç partner API-—Ç–∞
3. **Automated updates** –≤—Å–µ–∫–∏ –¥–µ–Ω

---

## üìû QUICK START (–°–ï–ì–ê)

```bash
# 1. –û–±–∞–¥–∏ —Å–µ –Ω–∞ Synevo
tel: 02 9 863 864
–ü–æ–ø–∏—Ç–∞–π: –¶–µ–Ω–∏ –∑–∞ Total T, Free T, –ü–∞–∫–µ—Ç

# 2. –û–±–∞–¥–∏ —Å–µ –Ω–∞ Kandilarov
tel: 0700 70 117
–°—ä—â–æ—Ç–æ

# 3. –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–π —Ñ–∞–π–ª–∞
code lib/data/labs-database.ts

# 4. Update timestamp
export const LAST_UPDATED = '2025-01-20' // –î–Ω–µ—Å
```

**–†–µ–∑—É–ª—Ç–∞—Ç:** 30 min —Ä–∞–±–æ—Ç–∞ = 10 –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–∏ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏ = –ì–û–¢–û–í–û –ó–ê LAUNCH! üéâ

---

## üí° BOTTOM LINE

**Web scraping –µ –¥–æ–±—Ä–∞ –∏–¥–µ—è, –ù–û:**
- –ò–∑–∏—Å–∫–≤–∞ –≤—Ä–µ–º–µ –∑–∞ development (2-5 –¥–Ω–∏)
- –ú–æ–∂–µ –¥–∞ –Ω–µ —Ä–∞–±–æ—Ç–∏ (–∑–∞—â–∏—Ç–∏, JS, —Å–∫—Ä–∏—Ç–∏ —Ü–µ–Ω–∏)
- –ú–æ–∂–µ –¥–∞ —Å—á—É–ø–∏ –ø—Ä–∏ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ —Å–∞–π—Ç

**–†—ä—á–Ω–æ—Ç–æ –æ–±–∞–∂–¥–∞–Ω–µ:**
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä–∞–Ω–æ —Ä–∞–±–æ—Ç–∏
- 100% —Ç–æ—á–Ω–æ—Å—Ç
- 1 –¥–µ–Ω —Ä–∞–±–æ—Ç–∞ –∑–∞ 28 –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏

**–ó–∞ production:** –ó–∞–ø–æ—á–Ω–∏ —Å —Ä—ä—á–Ω–æ, –ø–æ—Å–ª–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–π! üöÄ
